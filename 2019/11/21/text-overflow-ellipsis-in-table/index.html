<!DOCTYPE HTML><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.9.0"><meta charset="utf-8"><meta name="keywords" content="table表格里应用省略号text-overflow:ellipsis;, 前端"><meta name="baidu-site-verification" content><meta name="google-site-verification" content><meta name="360-site-verification" content><meta name="description" content="

本文参考：ccs2.1中文版规范 http://www.ayqy.net/doc/css2-1/cover.html                  ccs2.1中文版规范table部分 http://www.ayqy.net/doc"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><meta name="renderer" content="webkit|ie-stand|ie-comp"><meta name="mobile-web-app-capable" content="yes"><meta name="format-detection" content="telephone=no"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><title>table表格里应用省略号text-overflow:ellipsis; | 孙雪冬的博客</title><link rel="icon" type="image/png" href="/favicon.png"><link rel="stylesheet" type="text/css" href="/libs/awesome/css/font-awesome.min.css"><link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css"><link rel="stylesheet" type="text/css" href="/libs/aos/aos.css"><link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css"><link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css"><link rel="stylesheet" type="text/css" href="/css/matery.css"><link rel="stylesheet" type="text/css" href="/css/my.css"><style type="text/css"></style><script src="/libs/jquery/jquery-2.2.0.min.js"></script><script src="/libs/jinrishici/jinrishici.js" charset="utf-8"></script><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?46e79e71af0709a5b9106bf20cecc493";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"><link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head><body><header class="navbar-fixed"><nav id="headNav" class="bg-color nav-transparent"><div id="navContainer" class="nav-wrapper container"><div class="brand-logo"> <a href="/" class="waves-effect waves-light"><span class="logo-span">孙雪冬的博客</span></a></div><a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fa fa-navicon"></i></a><ul class="right"><li class="hide-on-med-and-down"> <a href="/" class="waves-effect waves-light"><span>首页</span></a></li><li class="hide-on-med-and-down"> <a href="/tags" class="waves-effect waves-light"><span>标签</span></a></li><li class="hide-on-med-and-down"> <a href="/categories" class="waves-effect waves-light"><span>分类</span></a></li><li class="hide-on-med-and-down"> <a href="/archives" class="waves-effect waves-light"><span>归档</span></a></li><li class="hide-on-med-and-down"> <a href="/about" class="waves-effect waves-light"><span>关于</span></a></li><li class="hide-on-med-and-down"> <a href="/friends" class="waves-effect waves-light"><span>友情链接</span></a></li><li class="hide-on-med-and-down"> <a href="/contact" class="waves-effect waves-light"><span>留言板</span></a></li><li><a href="#searchModal" class="modal-trigger waves-effect waves-light"><i id="searchIcon" class="fa fa-search" title="搜索"></i></a></li></ul><div id="mobile-nav" class="side-nav sidenav"><div class="mobile-head bg-color"><div class="logo-name">孙雪冬的博客</div><div class="logo-desc"> 哈尔滨理工大学 | 软件学院 | Web前端</div></div><ul class="menu-list mobile-menu-list"><li><a href="/" class="waves-effect waves-light"><i class="fa fa-fw fa-link"></i> 首页</a></li><li><a href="/tags" class="waves-effect waves-light"><i class="fa fa-fw fa-link"></i> 标签</a></li><li><a href="/categories" class="waves-effect waves-light"><i class="fa fa-fw fa-link"></i> 分类</a></li><li><a href="/archives" class="waves-effect waves-light"><i class="fa fa-fw fa-link"></i> 归档</a></li><li><a href="/about" class="waves-effect waves-light"><i class="fa fa-fw fa-link"></i> 关于</a></li><li><a href="/friends" class="waves-effect waves-light"><i class="fa fa-fw fa-link"></i> 友情链接</a></li><li><a href="/contact" class="waves-effect waves-light"><i class="fa fa-fw fa-link"></i> 留言板</a></li><li><div class="divider"></div></li><li><a href="https://github.com/sunxuedong" class="waves-effect waves-light" target="_blank"><i class="fa fa-github-square fa-fw"></i> Fork Me</a></li></ul></div></div><style>.nav-transparent .github-corner{display:none!important}.github-corner{position:absolute;z-index:10;top:0;right:0;border:0;transform:scale(1.1)}.github-corner svg{color:#0f9d58;fill:#fff;height:64px;width:64px}.github-corner:hover .octo-arm{animation:a .56s ease-in-out}.github-corner .octo-arm{animation:none}@keyframes a{0%,to{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}</style> <a href="https://github.com/sunxuedong" class="github-corner tooltipped hide-on-med-and-down" target="_blank" data-tooltip="Fork Me" data-position="left" data-delay="50"><svg viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115 130 115 142 142 250 250 250 0Z"></path><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4L133.7 101.6C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8Z" fill="currentColor" class="octo-body"></path></svg></a></nav></header><script src="/libs/cryptojs/crypto-js.min.js"></script><script>
    (function() {
        let pwd = '';
        if (pwd && pwd.length > 0) {
            if (pwd !== CryptoJS.SHA256(prompt('请输入访问本文章的密码')).toString(CryptoJS.enc.Hex)) {
                alert('密码错误，将返回主页！');
                location.href = '/';
            }
        }
    })();
</script><div class="bg-cover pd-header post-cover"><div class="container"><div class="row"><div class="col s12 m12 l12"><div class="brand"><div class="description center-align post-title"> table表格里应用省略号text-overflow:ellipsis;</div></div></div></div></div></div><main class="post-container content"><link rel="stylesheet" href="/libs/tocbot/tocbot.css"><style>#articleContent h1::before,#articleContent h2::before,#articleContent h3::before,#articleContent h4::before,#articleContent h5::before,#articleContent h6::before{display:block;content:" ";height:100px;margin-top:-100px;visibility:hidden}#articleContent :focus{outline:0}.toc-fixed{position:fixed;top:64px;width:22%}.toc-widget{padding-left:20px}.toc-widget .toc-title{margin:35px 0 15px 0;padding-left:17px;font-size:1.5rem;font-weight:700;line-height:1.5rem}.toc-widget ol{padding:0;list-style:none}#toc-content ol{padding-left:10px}#toc-content ol li{padding-left:10px}#toc-content .toc-link:hover{color:#42b983;font-weight:700;text-decoration:underline}#toc-content .toc-link::before{background-color:transparent;max-height:25px}#toc-content .is-active-link{color:#42b983}#toc-content .is-active-link::before{background-color:#42b983}#floating-toc-btn{position:fixed;right:20px;bottom:76px;padding-top:15px;margin-bottom:0;z-index:998}#floating-toc-btn .btn-floating{width:48px;height:48px}#floating-toc-btn .btn-floating i{line-height:48px;font-size:1.4rem}</style><div class="row"><div id="toc-aside" class="expanded col l3 hide-on-med-and-down"><div class="toc-widget"><div class="toc-title"><i class="fa fa-list-alt"></i>&nbsp;&nbsp;目录</div><div id="toc-content"></div></div></div><div id="main-content" class="col s12 m12 l9"><div id="artDetail"><div class="card"><div class="card-content article-info"><div class="row tag-cate"><div class="col s7"><div class="article-tag"> <a href="/tags/css/" target="_blank"><span class="chip bg-color">css</span></a></div></div><div class="col s5 right-align"><div class="post-cate"><i class="fa fa-bookmark fa-fw icon-category"></i> <a href="/categories/css/" class="post-category" target="_blank">css</a></div></div></div><div class="post-info"><div class="post-date info-break-policy"><i class="fa fa-calendar-minus-o fa-fw"></i> 发布日期:&nbsp;&nbsp; 2019-11-21 01:57:46</div><div class="post-author info-break-policy"><i class="fa fa-user-o fa-fw"></i> 作者:&nbsp;&nbsp; 孙雪冬</div><div class="info-break-policy"><i class="fa fa-file-word-o fa-fw"></i> 文章字数:&nbsp;&nbsp; 1.2k</div><div class="info-break-policy"><i class="fa fa-clock-o fa-fw"></i> 阅读时长:&nbsp;&nbsp; 4 分</div><span id="busuanzi_container_site_pv" style="display:none"></span><i class="fa fa-eye fa-fw"></i> 阅读次数:&nbsp;&nbsp;<span id="busuanzi_value_page_pv"></span></div></div><hr class="clearfix"><div class="card-content article-card-content"><div id="articleContent"><div align="middle"><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="86" src="//music.163.com/outchain/player?type=2&id=115343&auto=1&height=66"></iframe></div><p>本文参考：ccs2.1中文版规范 <a href="http://www.ayqy.net/doc/css2-1/cover.html" target="_blank" rel="noopener">http://www.ayqy.net/doc/css2-1/cover.html</a><br> ccs2.1中文版规范table部分 <a href="http://www.ayqy.net/doc/css2-1/tables.html#width-layout" target="_blank" rel="noopener">http://www.ayqy.net/doc/css2-1/tables.html#width-layout</a></p><h3 id="1-起因"><a href="#1-起因" class="headerlink" title="1.起因"></a>1.起因</h3><p>接到需求，说如果 table 里的字太多就用省略号，很自然就想到 text-overflow:ellipsis (，注意：overflow: hidden; text-overflow:ellipsis; white-space:nowrap 一定要一起用)，但是在 table 中不起作用，问度娘，说要想起作用需给 table元素 设定 table-layout: fixed ，果然起作用了。</p><h3 id="2-text-overflow-ellipsis-起作用的前提"><a href="#2-text-overflow-ellipsis-起作用的前提" class="headerlink" title="2. text-overflow:ellipsis 起作用的前提"></a>2. text-overflow:ellipsis 起作用的前提</h3><blockquote><ol><li>一定要给容器定义宽度<strong>（重点）</strong></li><li>如果少了overflow: hidden;文字会横向撑到容易的外面</li><li>如果少了white-space:nowrap;文字会把容器的高度往下撑；即使你定义了高度，省略号也不会出现，多余的文字会被裁切掉</li><li>如果少了 text-overflow:ellipsis; 多余的文字会被裁切掉，就相当于你这样定义 text-overflow:clip</li></ol></blockquote><h3 id="3-上面重点的前提"><a href="#3-上面重点的前提" class="headerlink" title="3.上面重点的前提"></a>3.上面重点的前提</h3><p><strong>一定要给容器定义宽度</strong>，这就是 table-layout: fixed 起作用，而 table-layout: auto<strong>(table元素默认 auto )</strong> 不起作用的原因，下面一段来自 css2.1 中文版规范：</p><blockquote><p><strong>‘table-layout’</strong><br><em>Value:</em> auto | fixed | <a href="http://www.ayqy.net/doc/css2-1/cascade.html#value-def-inherit" target="_blank" rel="noopener">inherit</a><br><em>Initial:</em> auto<br><em>Applies to:</em> ‘table’和’inline-table’元素<br><em>Inherited:</em> no<br><em>Percentages:</em> N/A<br><em>Media:</em> <a href="http://www.ayqy.net/doc/css2-1/media.html#visual-media-group" target="_blank" rel="noopener">visual</a><br><em>Computed value:</em> 与指定值相同</p></blockquote><blockquote><p><a href="http://www.ayqy.net/doc/css2-1/tables.html#propdef-table-layout" target="_blank" rel="noopener">‘table-layout’</a>属性控制用于表格单元，行和列布局的算法。值含义如下：<br><strong>fixed</strong>: 用固定表格布局算法<br><strong>auto</strong>: 用任意自动表格布局算法</p></blockquote><p><strong>(fixed和auto区别就是一个固定，一个自动)</strong></p><p>下文描述了这两种算法:</p><h5 id="在固定表格布局算法中-fixed-，每列的宽度由下述规则决定："><a href="#在固定表格布局算法中-fixed-，每列的宽度由下述规则决定：" class="headerlink" title="在固定表格布局算法中(fixed)，每列的宽度由下述规则决定："></a>在固定表格布局算法中(fixed)，每列的宽度由下述规则决定：</h5><blockquote><ol><li>一个 width 属性值不为’auto’的列元素所在的列宽度就设置为该宽度值</li><li>否则，由第一行中 width 属性值不为’auto’的单元格确定该列的宽度。如果单元格跨越了多列，就把宽度分到这些列中(the width is divided over the columns)</li><li>所有剩余列均分剩余的水平表格空间 (减去边框或单元格间距)</li></ol></blockquote><p><strong>3中说到，所有剩余列均分剩余的水平表格空间，实际情况就是table将剩余列的宽度平均分，固定每列的宽度就是 剩余宽度/剩余列数 ，text-overflow:ellipsis 起作用的前提就是一定要给容器定义宽度，所以fixed起作用了。</strong></p><h5 id="在自动表格布局算法中-fixed-，列宽由下列步骤决定："><a href="#在自动表格布局算法中-fixed-，列宽由下列步骤决定：" class="headerlink" title="在自动表格布局算法中(fixed)，列宽由下列步骤决定："></a>在自动表格布局算法中(fixed)，列宽由下列步骤决定：</h5><blockquote><ol><li>计算每个单元格的最小内容宽度(MCW)：格式化的内容可以跨越任意多行，但不能从单元格溢出。如果单元格指定的<a href="http://www.ayqy.net/doc/css2-1/visudet.html#propdef-width" target="_blank" rel="noopener">‘width’</a>(W)大于MCW，W就是最小单元格宽度。’auto’值表示MCW是最小单元格宽度，然后，计算每个单元格的“最大”宽度：格式化内容，不考虑除显式换行外的换行</li><li>对于每一列，从只跨越该列的单元格中确定一个最大和最小列宽。最小列宽是最小单元格宽度中最大的那个所需要的最小列宽（或者列<a href="http://www.ayqy.net/doc/css2-1/visudet.html#propdef-width" target="_blank" rel="noopener">‘width’</a>，看哪个更大）。最大列宽是最大单元格宽度中最大的那个所需要的最大列宽（或者列<a href="http://www.ayqy.net/doc/css2-1/visudet.html#propdef-width" target="_blank" rel="noopener">‘width’</a>，看哪个更大）</li><li>对于每个跨越多列的单元格，增加它跨越的列的最小宽度，让它们至少与单元格一样宽。对于最大宽度也这样处理。如果可能的话，把跨越的所有列再扩宽差不多相同宽度</li><li>对于每个’width’不为’auto’的列组元素，增加它跨越的列的最小宽度，让它们至少与列组的’width’一样宽</li></ol></blockquote><p><strong>其实有些事很简单，但是说起来就是绕嘴。。。<br>1中说到，如果单元格指定的<a href="http://www.ayqy.net/doc/css2-1/visudet.html#propdef-width" target="_blank" rel="noopener">‘width’</a>(W)大于MCW，W就是最小单元格宽度。’auto’值表示MCW是最小单元格宽度。</strong></p><p><strong>情况一：当W &gt; MCW时，W是最小单元格宽度，说明 列宽 = W，列宽 装得下文字，用不上省略号。</strong></p><p><strong>情况二：当W &lt; MCW时，MCW是最小单元格宽度时，说明 列宽 = MCW，但是这个MCW是文字撑满下计算出来的，既然是撑满，用省略号干嘛。。。</strong></p><p><strong>要想在不使用table-layout:fixed的情况下，即table-layout:auto前提下用ellipsis，可以像下面这样做(在td里再套一个元素，对这个元素设置ellipsis)</strong></p><pre><code>&lt;style&gt;
    div {
      width: 100px;
    }
    .ellipsis {
      text-overflow:ellipsis;
      overflow: hidden; 
      text-overflow:ellipsis; 
      white-space:nowrap;
    }
&lt;/style&gt;

...
&lt;td&gt;
  &lt;div class=&quot;ellipsis&quot;&gt;
    xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
  &lt;/div&gt;
&lt;/td&gt;
...</code></pre><p><img src="badge-bg.jpg" alt></p></div><hr><link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css"><div id="article-share"><div class="social-share" data-disabled="qzone" data-wechat-qrcode-helper="<p>微信里点“发现”->“扫一扫”二维码便可查看分享。</p>"></div></div><script src="/libs/share/js/social-share.min.js"></script><div class="reprint" id="reprint-statement"><p class="reprint-tip"><i class="fa fa-exclamation-triangle"></i> &nbsp;&nbsp; <span>转载规则</span></p><div class="center-align"> <a rel="license" href="https://creativecommons.org/licenses/by/4.0/deed.zh"><img alt="" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/88x31.png"></a></div><br> <span xmlns:dct="http://purl.org/dc/terms/" href="http://purl.org/dc/dcmitype/Text" property="dct:title" rel="dct:type">《table表格里应用省略号text-overflow:ellipsis;》</span> 由 <a xmlns:cc="http://creativecommons.org/ns#" href="/2019/11/21/text-overflow-ellipsis-in-table/" property="cc:attributionName" rel="cc:attributionURL">孙雪冬</a> 采用 <a rel="license" href="https://creativecommons.org/licenses/by/4.0/deed.zh">知识共享署名 4.0 国际许可协议</a> 进行许可。</div><script async defer="defer">
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script></div></div><link rel="stylesheet" href="/libs/gitalk/gitalk.css"><link rel="stylesheet" href="/css/my-gitalk.css"><div class="card gitalk-card" data-aos="fade-up"><div id="gitalk-container" class="card-content"></div></div><script src="/libs/gitalk/gitalk.min.js"></script><script>
    let gitalk = new Gitalk({
        clientID: 'd971672be709e305ac8e',
        clientSecret: 'c943977a5c5aa86c7fb69496528ca3685c746e56',
        repo: 'sunxuedong.github.io',
        owner: 'sunxuedong',
        admin: "sunxuedong",
        id: '2019/11/21/text-overflow-ellipsis-in-table/',
        distractionFreeMode: false  // Facebook-like distraction free mode
    });

    gitalk.render('gitalk-container');
</script><article id="prenext-posts" class="prev-next articles"><div class="row article-row"><div class="article col s12 m6" data-aos="fade-up" data-aos="fade-up"><div class="article-badge left-badge text-color"><i class="fa fa-dot-circle-o"></i> &nbsp;本篇</div><div class="card"><a href="/2019/11/21/text-overflow-ellipsis-in-table/"><div class="card-image"> <img class="responsive-img"> <span class="card-title">table表格里应用省略号text-overflow:ellipsis;</span></div></a><div class="card-content article-content"><div class="summary block-with-text"> 本文参考：ccs2.1中文版规范table部分 http://www.ayqy.net/doc/css2-1/tables.html#width-layout</div><div class="publish-info"><span class="publish-date"><i class="fa fa-clock-o fa-fw icon-date"></i> 2019-11-21 01:57:46</span><span class="publish-author"><i class="fa fa-bookmark fa-fw icon-category"></i> <a href="/categories/css/" class="post-category" target="_blank">css</a></span></div></div><div class="card-action article-tags"> <a href="/tags/css/" target="_blank"><span class="chip bg-color">css</span></a></div></div></div><div class="article col s12 m6" data-aos="fade-up"><div class="article-badge right-badge text-color"> 本篇&nbsp;<i class="fa fa-dot-circle-o"></i></div><div class="card"><a href="/2019/11/21/text-overflow-ellipsis-in-table/"><div class="card-image"> <img class="responsive-img"> <span class="card-title">table表格里应用省略号text-overflow:ellipsis;</span></div></a><div class="card-content article-content"><div class="summary block-with-text"> 本文参考：ccs2.1中文版规范table部分 http://www.ayqy.net/doc/css2-1/tables.html#width-layout</div><div class="publish-info"><span class="publish-date"><i class="fa fa-clock-o fa-fw icon-date"></i> 2019-11-21 01:57:46</span><span class="publish-author"><i class="fa fa-bookmark fa-fw icon-category"></i> <a href="/categories/css/" class="post-category" target="_blank">css</a></span></div></div><div class="card-action article-tags"> <a href="/tags/css/" target="_blank"><span class="chip bg-color">css</span></a></div></div></div></div></article></div><script>$("#articleContent").on("copy",function(e){if(void 0!==window.getSelection){var n=window.getSelection();if(!((""+n).length<Number.parseInt("120"))){var t=document.getElementsByTagName("body")[0],o=document.createElement("div");o.style.position="absolute",o.style.left="-99999px",t.appendChild(o),o.appendChild(n.getRangeAt(0).cloneContents()),"PRE"===n.getRangeAt(0).commonAncestorContainer.nodeName&&(o.innerHTML="<pre>"+o.innerHTML+"</pre>");var i=document.location.href;o.innerHTML+='<br />来源: 孙雪冬的博客<br />作者: 孙雪冬<br />链接: <a href="'+i+'">'+i+"</a><br />本文章著作权归作者所有，任何形式的转载都请注明出处。",n.selectAllChildren(o),window.setTimeout(function(){t.removeChild(o)},200)}}})</script></div></div><div id="floating-toc-btn" class="hide-on-med-and-down"><a class="btn-floating btn-large bg-color"><i class="fa fa-list"></i></a></div><script src="/libs/tocbot/tocbot.min.js"></script><script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            // headingsOffset: -205,
            headingSelector: 'h1, h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h1, h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).slideUp(500);
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).slideDown(500);
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script></main><footer class="page-footer bg-color"><div class="container row center-align"><div class="col s12 m8 l8 copy-right"> &copy; 2019 SunXuedong. All Rights Reserved. &nbsp;<i class="fa fa-area-chart"></i>&nbsp;站点总字数:&nbsp; <span class="white-color">1.2k</span><br><span id="sitetime"></span><br><span id="busuanzi_container_site_pv" style="display:none"></span><i class="fa fa-heart-o"></i> 本站总访问量<span id="busuanzi_value_site_pv" class="white-color"></span><span id="busuanzi_container_site_uv" style="display:none"></span> 人次,&nbsp;访客数<span id="busuanzi_value_site_uv" class="white-color"></span> 人.</div><div class="col s12 m4 l4 social-link social-statis"><a href="https://github.com/sunxuedong" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50"><i class="fa fa-github"></i></a><a href="mailto:hal_focus@163.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50"><i class="fa fa-envelope-open"></i></a><a href="https://user.qzone.qq.com/983896643" class="tooltipped" target="_blank" data-tooltip="访问我的QQ空间" data-position="top" data-delay="50"><i class="fa fa-qq"></i></a><a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50"><i class="fa fa-rss"></i></a></div></div></footer><div class="progress-bar"></div><script>$(document).ready(function(){var e=setInterval(function(){"none"!=document.getElementById("busuanzi_container_site_pv").style.display&&($("#busuanzi_value_site_pv").html(parseInt($("#busuanzi_value_site_pv").html())+n),clearInterval(e)),"none"!=$("#busuanzi_container_site_pv").css("display")&&($("#busuanzi_value_site_uv").html(parseInt($("#busuanzi_value_site_uv").html())+t),clearInterval(e))},50),n=0,t=0})</script><script language="javascript">function siteTime(){window.setTimeout("siteTime()",1e3);var e=36e5,t=24*e,o=new Date,i=o.getFullYear(),a=o.getMonth()+1,n=o.getDate(),r=o.getHours(),l=o.getMinutes(),s=o.getSeconds(),M=Date.UTC(2019,11,18,0,0,0),g=Date.UTC(i,a,n,r,l,s)-M,m=Math.floor(g/31536e6),T=Math.floor(g/t-365*m),f=Math.floor((g-(365*m+T)*t)/e),h=Math.floor((g-(365*m+T)*t-f*e)/6e4),u=Math.floor((g-(365*m+T)*t-f*e-6e4*h)/1e3);document.getElementById("sitetime").innerHTML="本站已运行 "+m+" 年 "+T+" 天 "+f+" 小时 "+h+" 分钟 "+u+" 秒"}siteTime()</script><div id="searchModal" class="modal"><div class="modal-content"><div class="search-header"><span class="title"><i class="fa fa-search"></i> &nbsp;&nbsp;搜索</span> <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字" class="search-input"></div><div id="searchResult"></div></div></div><script src="/js/search.js"></script><script type="text/javascript">$(function(){searchFunc("/search.xml","searchInput","searchResult")})</script><div id="backTop" class="top-scroll"><a class="btn-floating btn-large waves-effect waves-light" href="#!"><i class="fa fa-angle-up"></i></a></div><script src="/libs/materialize/materialize.min.js"></script><script src="/libs/masonry/masonry.pkgd.min.js"></script><script src="/libs/aos/aos.js"></script><script src="/libs/scrollprogress/scrollProgress.min.js"></script><script src="/libs/lightGallery/js/lightgallery-all.min.js"></script><script src="/js/matery.js"></script><script type="text/javascript">var st,OriginTitile=document.title;document.addEventListener("visibilitychange",function(){document.hidden?(document.title="Σ(っ °Д °;)っ喔哟，崩溃啦！",clearTimeout(st)):(document.title="φ(゜▽゜*)♪咦，又好了！",st=setTimeout(function(){document.title=OriginTitile},3e3))})</script><script async src="/libs/others/busuanzi.pure.mini.js"></script></body></html>